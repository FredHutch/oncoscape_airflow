{"_id":"node-async-loop","_rev":"8-506ebdb88521fb467a48ae21c89bf92f","name":"node-async-loop","time":{"modified":"2016-09-10T01:05:36.618Z","created":"2015-09-13T14:52:46.642Z","1.0.0":"2015-09-13T14:52:46.642Z","1.1.0":"2015-09-13T15:27:15.524Z","1.2.0":"2015-09-14T10:31:07.189Z","1.2.1":"2015-09-14T14:13:27.113Z","1.2.2":"2016-09-10T01:05:36.618Z"},"maintainers":[{"name":"nathan818","email":"nathan@poirier.io"}],"dist-tags":{"latest":"1.2.2"},"description":"Loop through an array to execute asynchronous actions on each element.","readme":"# node-async-loop\n\n[![Build Status](https://travis-ci.org/nathan818fr/async-loop.svg)](https://travis-ci.org/nathan818fr/async-loop)\n\nLoop through an array to execute asynchronous actions on each element.\n\nSometimes you must execute an asynchronous action on each elements of an array, but you must wait for the previous\naction to complete before proceed to the next.\n\nFeatures:\n* Loop through arrays\n* Loop through objects\n* Loop in the normal direction or in the reverse direction\n* Error handling\n* A callback is called for the end of the loop\n\n## Install ##\n```\nnpm install --save node-async-loop\n```\n\n## Function ##\n```js\nvar asyncLoop = require('node-async-loop');\n\nasyncLoop(array[, from[, to]], callback[, endCallback]);\n```\n\n**array:** *array*\n\nThe array to loop\n\n**from (optionnal):** *integer*\n\nThe starting position, including (Default: 0).\n\n**to (optionnal):** *integer*\n\nThe final position, including (Default: array.length - 1).\n\n**callback:** *function(item, next)*\n\nThe function called for every elements.\nIt must call `next()` so that the next array element is executed.\nAt the end `endCallback` will be called!\n\nOn error it must call `next(errorObject)` and iteration will be stopped and the endCallback called with errorObject.\n\n**endCallback (optionnal):** *function(err)*\n\nThis function is called at the end.\n\nThe `err` variable is null if everything was fine, otherwise it contains the error.\n\n## Usage ##\n\n### Basic Usage ###\nGeneral usage:\n```js\nvar asyncLoop = require('node-async-loop');\n\nvar array = ['item0', 'item1', 'item2'];\nasyncLoop(array, function (item, next)\n{\n    do.some.action(item, function (err)\n    {\n        if (err)\n        {\n            next(err);\n            return;\n        }\n\n        next();\n    });\n}, function (err)\n{\n    if (err)\n    {\n        console.error('Error: ' + err.message);\n        return;\n    }\n\n    console.log('Finished!');\n});\n```\n\nFor example, create folder recursively:\n```js\nvar fs = require('fs');\nvar asyncLoop = require('node-async-loop');\n\nvar directories = ['test', 'test/hello', 'test/hello/world'];\nasyncLoop(directories, function (directory, next)\n{\n    fs.mkdir(directory, function (err)\n    {\n        if (err)\n        {\n            next(err);\n            return;\n        }\n\n        next();\n    });\n}, function (err)\n{\n    if (err)\n    {\n        console.error('Error: ' + err.message);\n        return;\n    }\n\n    console.log('Finished!');\n});\n```\n\n### Loop Partially and in reverse order! ###\n```js\nvar asyncLoop = require('node-async-loop');\n\nvar displayItem = function(item, next) {\n    console.log(item);\n    next();\n}\n\nvar array = ['A', 'B', 'C', 'D', 'E', 'F'];\n\n// Loop all\nasyncLoop(array, displayItem); // A, B, C, D, E, F\nasyncLoop(array, 0, displayItem); // A, B, C, D, E, F\nasyncLoop(array, 0, array.length - 1, displayItem); // A, B, C, D, E, F\n\n// Loop partially to the end\nasyncLoop(array, 1, displayItem); // B, C, D, E, F\nasyncLoop(array, 2, displayItem); // C, D, E, F\n\n// Loop partially\nasyncLoop(array, 1, 3, displayItem); // B, C, D\nasyncLoop(array, 0, 1, displayItem); // A, B\nasyncLoop(array, 0, 2, displayItem); // A, B, C\n\n// Loop partially in reverse order\nasyncLoop(array, 3, 1, displayItem); // D, C, B\nasyncLoop(array, 1, 0, displayItem); // B, B\nasyncLoop(array, 2, 0, displayItem); // C, B, A\n\n// Loop partially, using negative from/to values\n// -1 is the last element (F)\n// -2 is the before last element (E)\n// -3 ... (D)\n// ...\nasyncLoop(array, 0, -2, displayItem); // A, B, C, D, E\nasyncLoop(array, 1, -2, displayItem); // B, C, D, E\n\n// So to loop in reverse order you can do\nasyncLoop(array, array.length - 1, 0, displayItem); // F, E, D, C, B, A\n// or simply\nasyncLoop(array, -1, 0, displayItem); // F, E, D, C, B, A\n// or simply simply\nasyncLoop(array, -1, displayItem); // F, E, D, C, B, A\n\n// Other examples\nasyncLoop(array, -2, displayItem); // E, D, C, B, A\nasyncLoop(array, -2, -4, displayItem); // E, D, C\nasyncLoop(array, -4, -2, displayItem); // C, D, E\n```\n\n### Loop through objects ###\n```js\nvar asyncLoop = require('node-async-loop');\n\nvar obj = {\n    'aa': 'AAAA',\n    'bb': 'BBBB',\n    'cc': 'CCCC',\n    'dd': 'DDDD',\n    'ee': 'EEEE'\n};\n\nasyncLoop(obj, function (item, next)\n{\n    console.log(item);\n    // Get object key with: item.key\n    // Get associated value with: item.value\n    next();\n}, function ()\n{\n    console.log('Finished!');\n});\n\n// Output:\n//\n// { key: 'aa', value: 'AAAA' }\n// { key: 'bb', value: 'BBBB' }\n// { key: 'cc', value: 'CCCC' }\n// { key: 'dd', value: 'DDDD' }\n// { key: 'ee', value: 'EEEE' }\n// Finished!\n```\n","versions":{"1.1.0":{"name":"node-async-loop","version":"1.1.0","description":"Loop through an array to execute asynchronous actions on each element.","main":"async-loop.js","scripts":{"test":"mocha test/"},"repository":{"type":"git","url":"https://github.com/nathan818fr/async-loop.git"},"keywords":["async-loop","arrays","async","loop"],"author":{"name":"Nathan Poirier","email":"nathan@poirier.io"},"license":"ISC","bugs":{"url":"https://github.com/nathan818fr/async-loop/issues"},"devDependencies":{"chai":"^3.2.0","mocha":"^2.3.2"},"gitHead":"3dd4fece475d944e3adef75a159f91f4f11a0951","_id":"node-async-loop@1.1.0","_shasum":"e4a864c291b6a89f1d190ea686710be2e85a3628","_from":".","_npmVersion":"1.4.21","_npmUser":{"name":"nathan818","email":"nathan@poirier.io"},"maintainers":[{"name":"nathan818","email":"nathan@poirier.io"}],"dist":{"shasum":"e4a864c291b6a89f1d190ea686710be2e85a3628","tarball":"https://registry.npmjs.org/node-async-loop/-/node-async-loop-1.1.0.tgz"},"directories":{}},"1.2.0":{"name":"node-async-loop","version":"1.2.0","description":"Loop through an array to execute asynchronous actions on each element.","main":"async-loop.js","scripts":{"test":"mocha test/"},"repository":{"type":"git","url":"https://github.com/nathan818fr/async-loop.git"},"keywords":["async-loop","arrays","async","loop"],"author":{"name":"Nathan Poirier","email":"nathan@poirier.io"},"license":"ISC","bugs":{"url":"https://github.com/nathan818fr/async-loop/issues"},"devDependencies":{"chai":"^3.2.0","mocha":"^2.3.2"},"gitHead":"c3b19da64831a2531a5e458a576786af4086674e","_id":"node-async-loop@1.2.0","_shasum":"ece34fc10c1f8a65f9c50bbb654561f7454af531","_from":".","_npmVersion":"1.4.21","_npmUser":{"name":"nathan818","email":"nathan@poirier.io"},"maintainers":[{"name":"nathan818","email":"nathan@poirier.io"}],"dist":{"shasum":"ece34fc10c1f8a65f9c50bbb654561f7454af531","tarball":"https://registry.npmjs.org/node-async-loop/-/node-async-loop-1.2.0.tgz"},"directories":{}},"1.2.1":{"name":"node-async-loop","version":"1.2.1","description":"Loop through an array to execute asynchronous actions on each element.","main":"async-loop.js","scripts":{"test":"mocha test/"},"repository":{"type":"git","url":"https://github.com/nathan818fr/async-loop.git"},"keywords":["async-loop","arrays","async","loop"],"author":{"name":"Nathan Poirier","email":"nathan@poirier.io"},"license":"ISC","bugs":{"url":"https://github.com/nathan818fr/async-loop/issues"},"devDependencies":{"chai":"^3.2.0","mocha":"^2.3.2"},"gitHead":"8a272286b592a86a5d40e0bbebd37de5ac122491","_id":"node-async-loop@1.2.1","_shasum":"a81880b616e4b7bd3603be679d475dd3c3d2a022","_from":".","_npmVersion":"1.4.21","_npmUser":{"name":"nathan818","email":"nathan@poirier.io"},"maintainers":[{"name":"nathan818","email":"nathan@poirier.io"}],"dist":{"shasum":"a81880b616e4b7bd3603be679d475dd3c3d2a022","tarball":"https://registry.npmjs.org/node-async-loop/-/node-async-loop-1.2.1.tgz"},"directories":{}},"1.2.2":{"name":"node-async-loop","version":"1.2.2","description":"Loop through an array to execute asynchronous actions on each element.","main":"async-loop.js","scripts":{"test":"mocha test/"},"repository":{"type":"git","url":"https://github.com/nathan818fr/async-loop.git"},"keywords":["async-loop","arrays","async","loop"],"author":{"name":"Nathan Poirier","email":"nathan@poirier.io"},"license":"ISC","bugs":{"url":"https://github.com/nathan818fr/async-loop/issues"},"devDependencies":{"chai":"^3.2.0","mocha":"^2.3.2"},"gitHead":"5e8fbdd8f647568a259b21b91a8677d52018653e","_id":"node-async-loop@1.2.2","_shasum":"c5870299bf6477b780c88b431aa5b37733f55a3d","_from":".","_npmVersion":"1.4.21","_npmUser":{"name":"nathan818","email":"nathan@poirier.io"},"maintainers":[{"name":"nathan818","email":"nathan@poirier.io"}],"dist":{"shasum":"c5870299bf6477b780c88b431aa5b37733f55a3d","tarball":"https://registry.npmjs.org/node-async-loop/-/node-async-loop-1.2.2.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/node-async-loop-1.2.2.tgz_1473469535148_0.7805917204823345"},"directories":{}}},"keywords":["async-loop","arrays","async","loop"],"repository":{"type":"git","url":"https://github.com/nathan818fr/async-loop.git"},"author":{"name":"Nathan Poirier","email":"nathan@poirier.io"},"bugs":{"url":"https://github.com/nathan818fr/async-loop/issues"},"license":"ISC","readmeFilename":"README.md","users":{"nathan818":true},"_attachments":{},"_etag":"\"57d35c60-261a\""}